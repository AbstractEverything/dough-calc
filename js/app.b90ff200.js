(function(t){function e(e){for(var r,o,l=e[0],s=e[1],u=e[2],c=0,p=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dough-calc/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2034:function(t,e,n){"use strict";var r=n("7bd3"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("8c4f"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-orange-100 font-body min-h-screen overflow-hidden",attrs:{id:"app"}},[n("div",{staticClass:"container mx-auto mt-4 mb-4 lg:mt-8 lg:mb-8"},[n("div",{staticClass:"grid md:grid-cols-1 lg:grid-cols-3 gap-4 mr-4 ml-4 lg:gap-8 lg:mr-8 lg:ml-8"},[n("main-header"),n("editable-list"),n("main-sidebar")],1)])])},o=[],l=(n("4160"),n("b0c0"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lg:col-span-3 text-orange-900"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"w-full text-2xl bg-transparent font-bold hover:border-b-2 focus:outline-none",attrs:{type:"text",placeholder:"My recipe title..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])}),s=[],u={name:"App",computed:{title:{get:function(){return this.$store.state.title},set:function(t){this.$store.commit("updateTitle",t)}}}},d=u,c=n("2877"),p=Object(c["a"])(d,l,s,!1,null,null,null),g=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lg:col-span-1 text-orange-900"},[n("ingredient-list"),n("totals-list"),n("bakers-percentages-list"),n("target-weight"),n("url-generator")],1)},v=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"pt-4 mb-4 border-t border-dashed border-orange-300"},[n("h3",{staticClass:"text-lg font-bold"},[t._v("Ingredients:")]),n("ul",t._l(t.ingredients,(function(e,r){return n("li",{key:r},[t.empty(e)?t._e():n("span",[t._v(" "+t._s(e.name)+": "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(e.value))]),n("em",[t._v("g")]),t._v(" "),n("span",{staticClass:"text-orange-500"},[t._v("("+t._s(t.asPercent(e))+"%)")])])]),t.empty(e)?n("span",[t._v("â€¦")]):t._e()])})),0)])},h=[],y=n("5530"),b=n("2f62"),_=(n("a9e3"),{round:function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},randomInt:function(){return Math.floor(1e9*Math.random())}}),w={methods:{empty:function(t){return""==t.name||"0"==t.value||""==t.value},asPercent:function(t){return this.round(t.value/this.totalWeight*100,1)},round:function(t,e){return _.round(t,e)}},computed:Object(y["a"])({},Object(b["d"])(["ingredients"]),{},Object(b["c"])(["totalWeight","totalStarterDry","totalStarterLiquid"]))},x=w,O=Object(c["a"])(x,m,h,!1,null,null,null),C=O.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-4 mb-4 border-t border-dashed border-orange-300"},[n("h3",{staticClass:"text-lg font-bold"},[t._v("Totals:")]),n("ul",{staticClass:"mb-4"},[n("li",[t._v("Dry: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOfType("dry")))]),n("em",[t._v("g")])])]),n("li",[t._v("Dry (inc. preferment): "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOverallDry))]),n("em",[t._v("g")])])]),n("li",[t._v("Liquid: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOfType("liquid")))]),n("em",[t._v("g")])])]),n("li",[t._v("Starter: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOfType("starter")))]),n("em",[t._v("g")])])]),n("li",[t._v("Salt: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOfType("salt")))]),n("em",[t._v("g")])])]),n("li",[t._v("Other: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalOfType("other")))]),n("em",[t._v("g")])])])]),n("ul",{staticClass:"pt-2 border-t border-dashed border-orange-300"},[n("li",[t._v("Total: "),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.totalWeight))]),n("em",[t._v("g")])])]),isNaN(t.totalHydration)?t._e():n("li",[t._v("Hydration: "),n("span",{staticClass:"float-right",class:{"text-red-600":t.hydrationWarning(),"text-green-600":!t.hydrationWarning()}},[n("strong",[t._v(t._s(t.totalHydration))]),t._v("%")])])])])},j=[],$={methods:{totalOfType:function(t){return this.$store.getters.totalOfType(t)},hydrationWarning:function(){return this.totalHydration<60||this.totalHydration>80}},computed:Object(y["a"])({},Object(b["c"])(["totalWeight","totalHydration","totalOverallDry"]))},T=$,k=Object(c["a"])(T,I,j,!1,null,null,null),W=k.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-4 mb-4 border-t border-dashed border-orange-300"},[n("h3",{staticClass:"text-lg font-bold"},[t._v("Bakers %:")]),t.totalOverallDry>0?n("div",[n("ul",t._l(t.allOfTypeNot("dry"),(function(e){return n("li",{key:e.name},[t._v(" "+t._s(e.name)+":"),n("span",{staticClass:"float-right"},[n("strong",[t._v(t._s(t.round(e.value/t.totalOverallDry*100,1)))]),n("em",[t._v("%")])])])})),0)]):t._e()])},S=[],L={methods:{totalOfType:function(t){return this.$store.getters.totalOfType(t)},allOfTypeNot:function(t){return this.$store.getters.allOfTypeNot(t)},round:function(t,e){return _.round(t,e)}},computed:Object(y["a"])({},Object(b["c"])(["totalOverallDry"]))},D=L,E=Object(c["a"])(D,q,S,!1,null,null,null),P=E.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-4 mb-4 border-t border-dashed border-orange-300"},[n("label",{staticClass:"form-label",attrs:{for:"target-weight"}},[t._v("Target weight:")]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"target"}],staticClass:"form-input form-input-orange",attrs:{type:"text"},domProps:{value:t.target},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.adjustWeights()},input:function(e){e.target.composing||(t.target=e.target.value)}}})])])},N=[],H={data:function(){return{target:""}},methods:{adjustWeights:function(){""==this.target||this.target<1||this.$store.dispatch("adjustWeights",{newWeight:parseFloat(this.target),oldWeight:this.totalWeight})}},computed:Object(y["a"])({},Object(b["c"])(["totalWeight"]))},U=H,z=Object(c["a"])(U,M,N,!1,null,null,null),A=z.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{staticClass:"form-label",attrs:{for:"target-weight"}},[t._v("Url:")]),n("input",{staticClass:"form-input form-input-copy",attrs:{name:"url"},domProps:{value:t.makeUrl()},on:{focus:function(t){return t.target.select()}}})])},B=[],Q={methods:{makeUrl:function(){return"https://abstracteverything.github.io/dough-calc/#/?"+this.stateToQuery}},computed:Object(y["a"])({},Object(b["c"])(["stateToQuery"]))},J=Q,G=Object(c["a"])(J,F,B,!1,null,null,null),R=G.exports,V={name:"App",components:{IngredientList:C,TotalsList:W,BakersPercentagesList:P,TargetWeight:A,UrlGenerator:R}},K=V,X=Object(c["a"])(K,f,v,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lg:col-span-2"},[n("add-ingredient"),n("transition-group",{attrs:{tag:"ul",name:"slide-fade"},on:{"before-leave":t.beforeLeave}},t._l(t.ingredients,(function(t){return n("editable-list-item",{key:t.id,attrs:{ingredient:t}})})),1)],1)},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn btn-orange block rounded-full w-full mb-4 pt-4 pb-4 border border-orange-500 transition duration-300 ease-in-out",on:{click:function(e){t.addIngredient(t.blank())}}},[t._v("Add")])])},nt=[],rt={methods:Object(y["a"])({},Object(b["b"])(["addIngredient"]),{blank:function(){return{id:_.randomInt(),name:"",value:0,type:"dry",hydration:null}}})},at=rt,it=Object(c["a"])(at,et,nt,!1,null,null,null),ot=it.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"slide-fade-item bg-white shadow-md rounded px-4 lg:px-8 pt-8 pb-1 lg:pb-2 mb-4"},[n("div",{staticClass:"mb-4 -mx-2 lg:-mx-6 -my-4 text-right"},[n("button",{staticClass:"mr-2 focus:outline-none",on:{click:function(e){return t.moveUp(t.ingredient)}}},[n("svg",{staticClass:"w-6 h-6 fill-current text-gray-400 hover:text-gray-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z"}})])]),n("button",{staticClass:"mr-2 focus:outline-none",on:{click:function(e){return t.moveDown(t.ingredient)}}},[n("svg",{staticClass:"w-6 h-6 fill-current text-gray-400 hover:text-gray-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z"}})])]),n("button",{staticClass:"mr-2 focus:outline-none",on:{click:function(e){return t.removeIngredient(t.ingredient)}}},[n("svg",{staticClass:"w-6 h-6 fill-current text-gray-400 hover:text-gray-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z"}})])])]),n("div",{staticClass:"-mt-8"},[n("div",{staticClass:"grid grid-cols-2 gap-4 mb-4"},[n("div",[n("label",{staticClass:"form-label text-gray-800",attrs:{for:"name"}},[t._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newIngredient.name,expression:"newIngredient.name"}],staticClass:"form-input form-input-default",attrs:{type:"text",name:"name",placeholder:"E.g. flour or water...",autocomplete:"off"},domProps:{value:t.newIngredient.name},on:{change:function(e){return t.updateIngredient({old:t.ingredient,new:t.newIngredient})},input:function(e){e.target.composing||t.$set(t.newIngredient,"name",e.target.value)}}})]),n("div",[n("label",{staticClass:"form-label text-gray-800",attrs:{for:"value"}},[t._v("Weight (g):")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.newIngredient.value,expression:"newIngredient.value",modifiers:{number:!0}}],staticClass:"form-input form-input-default",attrs:{type:"number",name:"value",placeholder:"0"},domProps:{value:t.newIngredient.value},on:{change:function(e){return t.updateIngredient({old:t.ingredient,new:t.newIngredient})},input:function(e){e.target.composing||t.$set(t.newIngredient,"value",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"grid grid-cols-2 gap-4 mb-6"},[n("div",[n("label",{staticClass:"form-label text-gray-800",attrs:{for:"value"}},[t._v("Type:")]),n("div",{staticClass:"inline-block relative w-full"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newIngredient.type,expression:"newIngredient.type"}],staticClass:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8  focus:outline-none",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newIngredient,"type",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"dry"}},[t._v("Dry")]),n("option",{attrs:{value:"liquid"}},[t._v("Liquid")]),n("option",{attrs:{value:"starter"}},[t._v("Starter")]),n("option",{attrs:{value:"salt"}},[t._v("Salt")]),n("option",{attrs:{value:"other"}},[t._v("Other")])]),n("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[n("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),"starter"==t.newIngredient.type?n("div",[n("label",{staticClass:"form-label text-gray-800",attrs:{for:"hydration"}},[t._v("Hydration (%):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newIngredient.hydration,expression:"newIngredient.hydration"}],staticClass:"form-input form-input-default",attrs:{type:"number",min:"0",name:"hydration"},domProps:{value:t.newIngredient.hydration},on:{input:function(e){e.target.composing||t.$set(t.newIngredient,"hydration",e.target.value)}}})]):t._e()])])])},st=[],ut={props:{ingredient:{type:Object,required:!1}},data:function(){return{newIngredient:{id:this.ingredient.id,name:this.ingredient.name,value:this.ingredient.value,type:this.ingredient.type,hydration:this.ingredient.hydration}}},methods:Object(y["a"])({},Object(b["b"])(["updateIngredient","removeIngredient","moveUp","moveDown"]))},dt=ut,ct=(n("2034"),Object(c["a"])(dt,lt,st,!1,null,null,null)),pt=ct.exports,gt={components:{AddIngredient:ot,EditableListItem:pt},methods:{beforeLeave:function(t){var e=window.getComputedStyle(t),n=e.marginLeft,r=e.marginTop,a=e.width,i=e.height;t.style.left="".concat(t.offsetLeft-parseFloat(n,10),"px"),t.style.top="".concat(t.offsetTop-parseFloat(r,10),"px"),t.style.width=a,t.style.height=i}},computed:Object(y["a"])({},Object(b["d"])(["ingredients"]))},ft=gt,vt=Object(c["a"])(ft,Z,tt,!1,null,null,null),mt=vt.exports,ht={name:"App",components:{MainHeader:g,MainSidebar:Y,EditableList:mt},mounted:function(){this.hydrateStore()},methods:{hydrateStore:function(){var t=this;if(void 0==this.$route.query.title?this.$store.dispatch("updateTitle","Enter recipe title..."):this.$store.dispatch("updateTitle",this.$route.query.title),void 0!=this.$route.query.name)if(Array.isArray(this.$route.query.name)){var e=this.reversedQuery();e.name.forEach((function(n,r){t.$store.dispatch("addIngredient",{id:_.randomInt(),name:n,value:parseFloat(e.value[r]),type:e.type[r],hydration:parseFloat(e.hydration[r])})}))}else this.$store.dispatch("addIngredient",{id:_.randomInt(),name:this.$route.query.name,value:parseFloat(this.$route.query.value),type:this.$route.query.type,hydration:parseFloat(this.$route.query.hydration)})},reversedQuery:function(){return{name:this.$route.query.name.reverse(),value:this.$route.query.value.reverse(),type:this.$route.query.type.reverse(),hydration:this.$route.query.hydration.reverse()}}}},yt=ht,bt=Object(c["a"])(yt,i,o,!1,null,null,null),_t=bt.exports;n("4de4"),n("c975"),n("13d5"),n("a434");r["a"].use(b["a"]);var wt={title:"",ingredients:[]},xt={updateTitle:function(t,e){var n=t.commit;n("updateTitle",e)},addIngredient:function(t,e){var n=t.commit;n("addIngredient",e)},removeIngredient:function(t,e){var n=t.commit;n("removeIngredient",e)},updateIngredient:function(t,e){var n=t.commit;n("updateIngredient",e)},adjustWeights:function(t,e){var n=t.commit;n("adjustWeights",e)},moveUp:function(t,e){var n=t.commit;n("moveUp",e)},moveDown:function(t,e){var n=t.commit;n("moveDown",e)}},Ot={updateTitle:function(t,e){t.title=e},addIngredient:function(t,e){t.ingredients.unshift({id:e.id,name:e.name,value:e.value,type:e.type,hydration:e.hydration})},updateIngredient:function(t,e){t.ingredients.splice(t.ingredients.indexOf(e.old),1,e.new)},removeIngredient:function(t,e){t.ingredients.splice(t.ingredients.indexOf(e),1)},adjustWeights:function(t,e){t.ingredients.forEach((function(t){0!=e.oldWeight&&(t.value=_.round(t.value*(e.newWeight/e.oldWeight),1))}))},moveUp:function(t,e){var n=t.ingredients.indexOf(e);if(n>=1){var r=t.ingredients[n-1];t.ingredients.splice(t.ingredients.indexOf(e)-1,2,e,r)}},moveDown:function(t,e){var n=t.ingredients.indexOf(e);if(n<=t.ingredients.length-2){var r=t.ingredients[n+1];t.ingredients.splice(n,2,r,e)}}},Ct={totalWeight:function(t){return t.ingredients.reduce((function(t,e){return _.round(t+=e.value,1)}),0)},allOfType:function(t){return function(e){return t.ingredients.filter((function(t){return t.type==e}))}},allOfTypeNot:function(t){return function(e){return t.ingredients.filter((function(t){return t.type!=e}))}},totalOfType:function(t){return function(e){return t.ingredients.filter((function(t){return t.type==e})).reduce((function(t,e){return t+(parseFloat(e.value)||0)}),0)}},totalHydration:function(t,e){var n=(e.totalOfType("liquid")+e.totalStarterLiquid)/(e.totalOfType("dry")+e.totalStarterDry)*100||0;return _.round(n,1)},totalStarterDry:function(t){return t.ingredients.filter((function(t){return"starter"==t.type})).reduce((function(t,e){return t+e.value/(e.hydration/100+1)}),0)},totalStarterLiquid:function(t){return t.ingredients.filter((function(t){return"starter"==t.type})).reduce((function(t,e){return t+(e.value-e.value/(e.hydration/100+1))}),0)},totalOverallDry:function(t,e){return _.round(e.totalStarterDry,1)+_.round(e.totalOfType("dry"),1)},stateToQuery:function(t){var e=t.ingredients.reduce((function(t,e){return t+"name="+e.name+"&value="+e.value+"&type="+e.type+"&hydration="+e.hydration+"&"}),"");return e+"title="+encodeURIComponent(t.title)}},It=new b["a"].Store({state:wt,actions:xt,mutations:Ot,getters:Ct});n("c898");r["a"].config.productionTip=!1,r["a"].use(a["a"]);var jt=new a["a"]({});new r["a"]({router:jt,store:It,render:function(t){return t(_t)}}).$mount("#app")},"7bd3":function(t,e,n){},c898:function(t,e,n){}});
//# sourceMappingURL=app.b90ff200.js.map